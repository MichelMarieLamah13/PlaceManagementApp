<div class="container-fluid">
  <h1>Angular Google Maps with Places Search Example</h1>
  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <label class="form-label">Enter address</label>
        <input
          type="text"
          class="form-control"
          (keydown.enter)="$event.preventDefault()"
          placeholder="Search Nearest Location"
          autocorrect="off"
          autocapitalize="off"
          spellcheck="off"
          type="text"
          #search
          [(ngModel)]="address"
        />
      </div>

      <div class="card mb-4 rounded-3 shadow-sm">
        <div class="card-header py-3 text-center">
          <h4 class="my-0 fw-normal">Position Actuelle</h4>
        </div>
        <div class="card-body">
          <h5 class="card-title pricing-card-title">{{ address }}</h5>
          <ul class="mt-3 mb-4">
            <li>Latitude: {{ agmOptions.latitude }}</li>
            <li>Longitude: {{ agmOptions.longitude }}</li>
          </ul>
        </div>
      </div>
      <div class="card mb-4 rounded-3 shadow-sm">
        <div class="card-header py-3 text-center">
          <h4 class="my-0 fw-normal">Position de départ</h4>
        </div>
        <div class="card-body">
          <h5 class="card-title pricing-card-title">{{start.address}}</h5>
          <ul class="mt-3 mb-4">
            <li>Latitude: {{start.latitude}}</li>
            <li>Longitude: {{start.longitude}}</li>
          </ul>
          <button *ngIf="address" type="button" class="w-100 btn btn-lg btn-outline-primary" (click)="setStart()">Définir la position de départ</button>
        </div>
      </div>
      <div class="card mb-4 rounded-3 shadow-sm">
        <div class="card-header py-3 text-center">
          <h4 class="my-0 fw-normal">Position d'arrivée</h4>
        </div>
        <div class="card-body">
          <h5 class="card-title pricing-card-title">{{end.address}}</h5>
          <ul class="mt-3 mb-4">
            <li>Latitude: {{end.latitude}}</li>
            <li>Longitude: {{end.longitude}}</li>
          </ul>
          <button *ngIf="address" type="button" class="w-100 btn btn-lg btn-outline-primary" (click)="setEnd()">Définir la position d'arrivée</button>
        </div>
      </div>
      <div class="card mb-4 rounded-3 shadow-sm">
        <div class="card-header py-3 text-center">
          <h4 class="my-0 fw-normal">Itinéraire</h4>
        </div>
        <div class="card-body">
          <ul class="mt-3 mb-4">
            <li>Distance du trajet: </li>
            <li>Durée du trajet: </li>
          </ul>
          <button *ngIf="start.address && end.address"type="button" class="w-100 btn btn-lg btn-outline-primary" >Calculer</button>
        </div>
      </div>
    </div>
    <div class="col-md-8">
      <agm-map
      [maxZoom]="agmOptions.maxZoom"
      [minZoom]="agmOptions.minZoom"
      [fitBounds]="agmOptions.fitbounds"
      [disableDefaultUI]="true"
      [latitude]="agmOptions.latitude"
      [longitude]="agmOptions.longitude"
      [styles]="agmOptions.styles"
      [zoom]="agmOptions.zoom"
      (mapReady)="onMapReady($event)"
      (zoomChange)="onZoomChange($event)"
      >
        <agm-marker
          [latitude]="agmOptions.latitude"
          [longitude]="agmOptions.longitude"
          [markerDraggable]="true"
          (markerClick)="clickMarker(infowindow, $event)"
          (dragEnd)="markerDragEnd($event)"
        >
        <agm-info-window [disableAutoPan]="false" #infowindow>
          <div>
            <h4>{{ address }}</h4>
            <p>Latitude: {{ agmOptions.latitude }}</p>
            <p>Longitude: {{ agmOptions.longitude }}</p>
          </div>
        </agm-info-window>

      </agm-marker>
      </agm-map>
    </div>
  </div>
</div>
